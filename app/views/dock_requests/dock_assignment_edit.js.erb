<% if @dock_request.nil? %>
  alert_custom("danger","<%= DockRequest.no_longer_exists_alert_message %>")
<% elsif @dock_request.valid? %>
  $("#modal-wrapper").html("<%= j render 'shared/generic_modal', { :form_type => 'update', :title => 'Assign Dock', :form_path => 'dock_requests/dock_assigment_form' } %>");
  $("#update-modal").modal('show');
<% elsif @dock_request.errors.added? :status, DockRequest.status_error_no_longer_checked_in %>
  <% if @dock_request.status_dock_assigned? %>
    $('<%= @dock_request.target_for_jquery %>').replaceWith('<%= j render @dock_request, dock_request: @dock_request %>');
    alert_custom('danger', '<%= DockRequest.dock_assigned_alert_message %>')
  <% elsif @dock_request.status_checked_out? || @dock_request.status_voided? %>
      remove('<%= @dock_request.target_for_jquery %>')
    <% if @dock_request.status_checked_out? %>
      alert_custom('danger', '<%= DockRequest.checked_out_alert_message %>')
    <% elsif @dock_request.status_voided? %>
      alert_custom('danger', '<%= DockRequest.voided_alert_message %>')
    <% end %>
  <% end %>
<% elsif @dock_request.errors.added? :dock_id, DockRequest.dock_id_error_message_zero_docks %>
  alert_custom('danger', '<%= DockRequest.no_enabled_docks_to_assign_alert_message %>')
<% end %>
