<% record = modal_form.record %>
var modal_id = '<%= modal_form.modal_id %>';
<% if record.nil? %>
  hideModal(modal_id);
  alert_custom('<%= Constants::Alert::WARNING %>','<%= t "alert.record.not_found" %>');
<% elsif record.save_success %>
  function renderRecord() {
    return '<%= j render partial: Page::IndexListPage::RECORD_HTML_PATH, locals: { record: record, table: table } %>'
  }
  hideModal(modal_id);
  <% if modal_form.type_co.create? %>
    $('#<%= record.class.table_body_id %>').prepend(renderRecord());
    $('#<%= record.table_row_id %>').hide().fadeIn(1000);
  <% elsif modal_form.type_co.update? %>
    $('#<%= record.table_row_id %>').replaceWith(renderRecord());
  <% end %>
  alert_custom('<%= Constants::Alert::SUCCESS %>', '<%= t "alert.save.success" %>');
<% else %>
  $("#<%= modal_form.form_id %>").replaceWith("<%=  j render modal_form.form_path, modal_form: modal_form %>");
<% end %>
